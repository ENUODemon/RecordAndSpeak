1.为什么使用缓存
2.缓存穿透，缓存击穿，缓存雪崩

缓存穿透 参数校验 ，布隆过滤器，缓存数据，

缓存击穿 永不过期，数据库限流

缓存雪崩 永不过期，过期时间分开，数据库限流

3.如何保证redis与数据库的数据一致

先删内存，在操作数据库 问题，读到脏数据。 解决方案 1 写默认值（业务侵入） 2 延时双删 

先写数据库，再删缓存 1 缓存过期时间 2 引入mq

4.如何设计一个分布式锁,如何对锁性能进行优化
1. setnx getnx 
2. zookeeper

1 获取之后 ，删除失败 。2 设置过时时长 3 设置内容客户时间加上过期时长
4 setnx失败后， 获取锁的时间cuo,然后用getset，将自己的过期时间更新上去，并获取旧值。如果这个旧值，跟之前获取的时间cuo是不一致的，就表示这个锁被其他进程占用了，自己就要放弃竞争
5 lua 脚本事务

5.redis 如何设置key的过期时间？他的实现原理是什么
定期删除， 懒汉删除

6.海量数据下，如何快速查找一套记录
1 布隆过滤器 2 hashmap 3 查询优化 按位

7.RDB和AOF机制

8.redis 的过期键的删除策略
9.redis 线程模型，单线程为什么那么快
10.简述redis事务
1.事务开始 标识 2. 命令入队 3 事务执行 
不支持事务回滚

乐观锁  cas compare and swap

11.redis 集群方案

主从 

哨兵模式

redis cluster 哈希 槽  运维复杂，手动槽

redis sharding 

12.redis 主从复制的核心原理

